(function(e,t){var n={regexp:/{{(.*?)}}/g,sep:"|",optsChar:"()",functions:{},add:function(e,t,r){n.functions[e]={exec:r,defaults:t}},parse:function(e){var t=n.match(e),r=t.length;for(var i=0;i<r;i++){e=e.replace(t[i][0],n.process(t[i][1]))}return e},match:function(e){var t=[];while(match=n.regexp.exec(e)){t.push(match)}return t},process:function(e){try{var t=e.indexOf(n.optsChar[0]),r=e.lastIndexOf(n.optsChar[1]),i=e.substring(t+1,r).split("|"),s=e.substring(0,t);if(n.functions[s]){return n.functions[s].exec(i,n.functions[s].defaults)}}catch(o){return"Error en "+e}return e}};e.textExpander={parse:function(e){return n.parse(e)},add:function(e,t,r){n.add(e,t,r)},changeSeparator:function(e){n.sep=e},changeRegExp:function(e){n.regexp=e}}})(window)